#라이브러리 불러오기
library(dplyr)
library(reshape)
#데이터 불러오기
data <- read.csv("./Data/collectData/K_20200414_Period.csv")
#데이터 불러오기
data <- read.csv("../Data/collectData/K_20200414_Period.csv")
setwd("~/ApartmentPrice/Data Preprocessing_R")
#데이터 불러오기
data <- read.csv("../Data/collectData/K_20200414_Period.csv")
View(data)
head(data)
#컬럼명 설정
data<-rename(data,c(단지명 = "Apart",
전용면적... = "size",
계약년월 = "date",
거래금액.만원. = "price",
시군구="gungu",
번지="address",
층="floor",
견축년도="ConstructionYear"))
# date 수정
data$date <- gsub("201601","13",data$date)
data$date <- gsub("201602","14",data$date)
data$date <- gsub("201603","15",data$date)
data$date <- gsub("201604","16",data$date)
data$date <- gsub("2015","",data$date)
#컬럼명 설정
data<-rename(data,c(단지명 = "Apart",
전용면적... = "size",
계약년월 = "date",
거래금액.만원. = "price",
시군구="gungu",
번지="address",
층="floor",
건축년도="ConstructionYear"))
head(data)
# price 수정
data$price <- gsub(",","",data$price)
data$price <- as.numeric(data$price)
# size 수정
data$size <-as.numeric(data$size)
# pps(평당가격) 설정
data$pps <- data$price/data$size
data$pps <- round(data$pps)
data%>%select(Apart,pps,gungu,address,Apart,size,price,floor,ConstructionYear)
# 평당평균가 설정
data <- aggregate(pps~Apart,
data,
mean)
data$pps <- round(data$pps)
head(data)
#데이터 불러오기
data <- read.csv("../Data/collectData/K_20200414_Period.csv")
#컬럼명 설정
data<-rename(data,c(단지명 = "Apart",
전용면적... = "size",
계약년월 = "date",
거래금액.만원. = "price",
시군구="gungu",
번지="address",
층="floor",
건축년도="ConstructionYear"))
# date 수정
data$date <- gsub("201602","14",data$date)
data$date <- gsub("201603","15",data$date)
data$date <- gsub("201604","16",data$date)
# price 수정
data$price <- gsub(",","",data$price)
data$price <- as.numeric(data$price)
# size 수정
data$size <-as.numeric(data$size)
# pps(평당가격) 설정
data$pps <- data$price/data$size
data$pps <- round(data$pps)
data%>%select(Apart,pps,gungu,address,Apart,size,price,floor,ConstructionYear)
# 평당평균가 설정
data$pps <- aggregate(pps~Apart,
data,
mean)
head(data)
data%>%select(Apart,pps,gungu,address,Apart,size,price,floor,ConstructionYear)
data <- data%>%select(Apart,pps,gungu,address,Apart,size,price,floor,ConstructionYear)
data <- data%>%select(Apart,pps,gungu,address,Apart,size,floor,ConstructionYear)
# 2016시점에서 연식 계산
data$year <- 2016-data$ConstructionYear
# 군과 구로 나누기
data$gungu <- gsub("서울특별시 ","",data$gungu)
head()
head(data)
install.packages("tidyr")
library(tidyr)
seperate(data,gungu,into=c("gu","gun"),
sep=" ",
remove=True
)
library(tidyr)
separate(data,gungu,into=c("gu","gun"),
sep=" ",
remove=True
)
separate(data,gungu,into=c("gu","gun"),
sep=" ",
remove=TRUE
)
#데이터 불러오기
data <- read.csv("../Data/collectData/K_20200414_Period.csv")
#컬럼명 설정
data<-rename(data,c(단지명 = "Apart",
전용면적... = "size",
계약년월 = "date",
거래금액.만원. = "price",
시군구="gudong",
번지="address",
층="floor",
건축년도="ConstructionYear"))
# date 수정
data$date <- gsub("201602","14",data$date)
data$date <- gsub("201603","15",data$date)
data$date <- gsub("201604","16",data$date)
# price 수정
data$price <- gsub(",","",data$price)
data$price <- as.numeric(data$price)
# size 수정
data$size <-as.numeric(data$size)
# pps(평당가격) 설정
data$pps <- data$price/data$size
data$pps <- round(data$pps)
# 2016시점에서 연식 계산
data$year <- 2016-data$ConstructionYear
# 군과 구로 나누기
data$gudong <- gsub("서울특별시 ","",data$gudong)
separate(data,gungu,into=c("gu","dong"),
sep=" ",
remove=TRUE
)
separate(data,gundong,into=c("gu","dong"),
sep=" ",
remove=TRUE
)
separate(data,gudong,into=c("gu","dong"),
sep=" ",
remove=TRUE
)
# 원하는 컬럼 추출
data <- data%>%select(Apart,pps,gu,dong,address,Apart,size,floor,year)
data <- separate(data,gudong,into=c("gu","dong"),
sep=" ",
remove=TRUE
)
# 원하는 컬럼 추출
data <- data%>%select(Apart,pps,gu,dong,address,Apart,size,floor,year)
head(data)
# 파일저장
write.csv(data,"../Data/preprocessingData/K_20200414_PreprocessingPeriod.csv",row.names = FALSE)
